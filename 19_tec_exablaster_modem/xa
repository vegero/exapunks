GRAB 301
LINK 800
JUMP DIAL

MARK NEWDIAL
NOOP
NOOP
NOOP
COPY -1 #DIAL

MARK DIAL
TEST EOF
TJMP ENDDIAL
COPY 11 X
JUMP DIALLOOP

MARK DIALLOOP
TEST X = 0
TJMP NEWFM
COPY F #DIAL
SUBI X 1 X
JUMP DIALLOOP

MARK NEWFM
REPL FM
JUMP NEWDIAL

MARK FM
GRAB 300
COPY F X
COPY F T
DROP
LINK 800
REPL ECHOLOOP
COPY T X
GRAB 200
MARK OVERWRITELOOP
TEST EOF
COPY T M
TJMP DIE
COPY M F
COPY X F
JUMP OVERWRITELOOP

MARK ENDDIAL
WIPE
GRAB 300
WIPE
JUMP DIE

MARK SONGWRITER
GRAB 300
COPY F M
COPY F M
HALT

MARK ECHOLOOP
COPY M T
TEST T = 1
TJMP DIE
COPY X M
JUMP ECHOLOOP

MARK DIE
